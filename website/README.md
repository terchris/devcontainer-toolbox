# Documentation Website

This website is built using [Docusaurus](https://docusaurus.io/) and hosted on GitHub Pages.

**Live site:** https://dct.sovereignsky.no/

## Development

All commands run inside the devcontainer:

```bash
cd /workspace/website

# Start development server (with hot reload)
npm run start -- --host 0.0.0.0

# Build for production
npm run build

# Serve production build locally (to test search)
npm run serve -- --host 0.0.0.0
```

> **Important:** The `--host 0.0.0.0` flag is required for VS Code port forwarding to work. Without it, the server only binds to localhost inside the container.

## Search

Local search is enabled using `@easyops-cn/docusaurus-search-local`.

- Search index is built during `npm run build`
- In dev mode, search shows a warning - this is normal
- To test search locally, run `npm run build` then `npm run serve`

## Deployment

The site deploys automatically via GitHub Actions when changes to `website/` are pushed to `main`.

**Workflow:** `.github/workflows/deploy-docs.yml`

To manually trigger a deploy:
1. Go to Actions → "Deploy Documentation"
2. Click "Run workflow"

### Fork Compatibility

The site uses environment variables for GitHub URLs, so it works on any fork without configuration:

| Variable | Default | Description |
|----------|---------|-------------|
| `GITHUB_ORG` | `terchris` | GitHub organization/username |
| `GITHUB_REPO` | `devcontainer-toolbox` | Repository name |

**How it works:**
- **Local development:** Uses defaults automatically
- **GitHub Actions:** Auto-detects from repository context (`github.repository_owner`, `github.event.repository.name`)
- **Forks:** Deploy to your fork's GitHub Pages without any changes

To test with different values locally:
```bash
GITHUB_ORG=myorg GITHUB_REPO=myrepo npm run build
```

## Documentation Structure

```
docs/
├── index.md              # Docs home
├── getting-started.md    # Installation guide
├── tools/                # Tool documentation (auto-generated)
├── ai-development/       # AI development guides
├── ai-developer/         # Internal AI workflow and plans
├── contributors/         # Contributor guides
└── ...
```

## Auto-Generated Pages

Some pages are auto-generated by `dev-docs`:

- `docs/tools/index.md` - Tools overview
- `docs/tools-details.md` - Tool details
- `docs/commands.md` - Command reference

**Do not edit these manually** - run `dev-docs` to regenerate.

## Adding Documentation

See the [Documentation Website](https://dct.sovereignsky.no/docs/contributors/website) guide.
