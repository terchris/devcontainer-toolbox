# Claude Code Instructions

Project-specific instructions for Claude Code when working on devcontainer-toolbox.

## Plan Workflow

**BEFORE implementing any plan, read these files for context:**
- `website/docs/ai-developer/PLANS.md` - Plan structure, templates, and best practices
- `website/docs/ai-developer/WORKFLOW.md` - Implementation workflow and process
- `website/docs/ai-developer/CREATING-SCRIPTS.md` - Script conventions and metadata format

When implementing a plan from `website/docs/ai-developer/plans/`:

1. **Read the full plan first** - understand all phases before starting
2. **Work phase by phase** - never skip ahead
3. **Update the plan file as you go:**
   - Mark current phase: `## Phase N: Name — IN PROGRESS`
   - Check off completed tasks: `- [x] Task description`
   - Mark finished phases: `## Phase N: Name — ✅ DONE`
4. **Stop after each phase** - ask user: "Phase N complete. Does this look good to continue?"
5. **Wait for user confirmation** before starting the next phase

## Creating Plans

When user requests a new feature or fix:

1. Read `website/docs/ai-developer/PLANS.md` for templates and structure
2. Create plan file in `website/docs/ai-developer/plans/backlog/`
3. Ask user to review the plan before implementing
4. When user approves, ask: "Do you want to work on a feature branch? (recommended)"
5. Only move to `active/` after user approves

## Git Commits

- Ask for confirmation before running git commands (add, commit, push)
- Use feature branches for multi-phase work
- Commit after each phase (with user approval)

## Version Management (MANDATORY)

**CRITICAL:** Before pushing to GitHub or creating a PR, you MUST:

1. **Ask the user:** "Should we bump the version for this change?"
2. **If yes:** Update `version.txt` with the new version number
3. **Version types:**
   - PATCH (1.0.x → 1.0.y): Bug fixes, small improvements
   - MINOR (1.x.0 → 1.y.0): New features, documentation improvements
   - MAJOR (x.0.0 → y.0.0): Breaking changes

**Why this matters:** Users running `dev-update` will only see updates if the version number changes. Without a version bump, your changes will never reach users.

See `website/docs/contributors/releasing` for full release process.

## Documentation

All documentation is in `website/docs/` (Docusaurus):

- User docs: `website/docs/` (getting-started, tools, commands, etc.)
- Contributor docs: `website/docs/contributors/`
- AI developer docs: `website/docs/ai-developer/`
- Plans: `website/docs/ai-developer/plans/`

**When working with documentation:**
- Read `website/docs/contributors/website.md` for Docusaurus workflow
- Read `website/README.md` for dev server commands
- Run commands inside the devcontainer: `cd /workspace/website && npm run start -- --host 0.0.0.0`
- Tool pages are auto-generated by `dev-docs` - don't edit `tools/index.md` manually

## Key Files

- `version.txt` - Version number (update to trigger release)
- `.devcontainer.extend/` - User configuration
- `.devcontainer/manage/` - Dev commands (dev-setup, dev-help, etc.)
- `.devcontainer/additions/` - Install scripts
